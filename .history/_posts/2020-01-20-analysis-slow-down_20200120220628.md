---
layout: post
title: 后台程序突然变慢，说出你的诊断思路？
subtitle: 如果结果不如你所愿，就在尘埃落定之前奋力一搏！！！
---

问题33：后台服务“变慢”，谈谈你的诊断思路。

### 典型回答

首先需要对这个问题进行定位：
* 服务是突然变慢还是长时间运行后变慢，类似问题是否重复出现？
* “慢”的定义是什么？我能理解为系统对其他方面的反应延迟变长吗？

第二，理清问题的症状，这更便于定位具体原因，下面是常见的一些思路：
* 问题可能来自于 Java 程序本身，也可能是受到其他服务的影响，初始判断可以先确定是否发生了意外的程序错误，如果有，这个异就是能就是突破点；如果没有，就先检查系统级别的资源等情况，监控 CPU、内存等资源是否被其他进程大量占用，并且这种占用是否不符合系统正常运行状况。
* 监控 Java 服务自身，例如 GC 日志里面是否观察到 Full GC 等恶劣情况出现，或者是否 Minor GC 在变长等；利用 jstat 等工具，获取内存使用的统计信息也是个常用手段；利用 jstack 等工具检查是否出现死锁等。
* 如果还不能确定具体问题，对应用进行 Profiling 也是个办法，但因为它会对系统产生侵入性，如果不是非常必要，大多数情况下并不建议在生产系统进行。
* 定位了程序错误或者 JVM 配置的问题后，就可以采取相应的补救措施，然后验证是否解决，否则还需要重复上面部分过程。考点分析

### 